/*
 FrostNova Javascript Library v0.3.2
 http://qslee.com/

 Copyright 2011, Qiu-Shi Lee
 Code licensed under the MIT License:
 https://github.com/qiushilee/frostnova/blob/master/LICENSE.txt
*/
var nova=function(){return nova.init.apply(nova,arguments)};nova.init=function(){return new nova.domChain.init(selector)};nova.WIN=window;nova.version="0.3.2";nova.bind=function(a,b){var d=Array.prototype.slice,c=d.apply(arguments,[2]);return function(){return a.apply(b||{},c.concat(d.apply(arguments)))}};nova.isArray=function(){};nova.isString=function(){};nova.isNubmer=function(){};nova.load={};
nova.load=function(a,b){var d=document.createElement("script");d.src=a;d.onloadDone=false;d.onload=function(){d.onloadDone=true;b()};d.onreadystatechange=function(){if(d.readyState==="loaded"||d.readyState==="complete"&&!d.onloadDone){d.onloadDone=true;b()}};document.body.appendChild(d)};nova.ajax={};nova.ajax.XMLHttpFactories=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];
nova.ajax.createXMLHTTPObject=function(){for(var a=false,b=0;b<nova.ajax.XMLHttpFactories.length;b++){try{a=nova.ajax.XMLHttpFactories[b]()}catch(d){continue}break}return a};
nova.ajax.sendRequest=function(a,b,d){var c=nova.ajax.createXMLHTTPObject();if(c){c.open(d?"POST":"GET",a,true);c.setRequestHeader("User-Agent","XMLHTTP/1.0");d&&c.setRequestHeader("Content-type","application/x-www-form-urlencoded");c.onreadystatechange=function(){if(c.readyState==4)c.status!=200&&c.status!=304||b(c)};c.readyState!=4&&c.send(d)}};nova.ajax.get=function(a,b){return nova.ajax.sendRequest(a,b,"GET")};nova.ajax.post=function(a,b){return nova.ajax.sendRequest(a,b,"POST")};nova.dom={};
nova.dom.hasClass=function(){};nova.dom.addClass=function(a,b){if(!nova.dom.hasClass(a,b))a.className===""?a.className=b:a.className+=" "+b};nova.dom.removeClass=function(a,b){a.className=a.className.replace(b,"")};nova.dom.getStyle=function(a,b,d){if(a.currentStyle)return a.currentStyle[d];else if(nova.WIN.getComputedStyle)return document.defaultView.getComputedStyle(a,null).getPropertyValue(b)};
nova.dom.getWidth=function(a){var b,d;b=parseInt(nova.dom.getStyle(a,"margin-left","marginLeft"),10);d=parseInt(nova.dom.getStyle(a,"margin-right","marginRight"),10);return a.offsetWidth+b+d};nova.dom.setCSS=function(a,b){var d=function(e,f){for(var g=0,h=a.length;g<h;g++)a[g].style[e]=f},c;for(c in b)b.hasOwnProperty(c)&&d(c,b[c])};
(function(){var a={byID:function(c,e){if(c===null)return[];return[c.getElementById(e)]},byNodeName:function(c,e){if(c===null)return[];var f,g,h=[],i=c.getElementsByTagName(e);f=0;for(g=i.length;f<g;f++)h.push(i[f]);return h},byClassName:function(c,e){if(c===null)return[];var f,g,h=[],i=c.getElementsByTagName("*");f=0;for(g=i.length;f<g;f++){var k=i[f];k.className.match("\\b"+e+"\\b")&&h.push(k)}return h}},b={id:function(c,e){e=e.split("#")[1];return a.byID(c,e)},tag:function(c,e){return a.byNodeName(c,
e)},"class":function(c,e){e=e.split(".")[1];return a.byClassName(c,e)}},d=function(c){this.selector=c;this.tokens=[];this.tokenize()};d.prototype.tokenize=function(){this.tokens.push(this.selector[0]==="#"?"id":this.selector[0]==="."?"class":"tag");return this.tokens};nova.dom.selector=function(c,e){var f;f=e===undefined?document:e;if(f.querySelectorAll)f=f.querySelectorAll(c);else{var g=(new d(c)).tokens;f=b[g](f,c)}return f};nova.domChain={find:function(c){this.selector=c}}})();nova.ua={};
nova.ua=function(){var a,b=nova.WIN.navigator.userAgent,d,c;d=function(e){a=0;return parseFloat(e.replace(/\./g,function(){return a++==1?"":"."}))};c={ie:0,webkit:0,gecko:0,opera:0,mobile:null,os:null};if(/windows|win32/i.test(b))c.os="win";else if(/macintosh/i.test(b))c.os="mac";else if(/rhino/i.test(b))c.os="rhino";if(/KHTML/.test(b))c.webkit=1;m=b.match(/AppleWebKit\/([^\s]*)/);if(!c.webkit)if((m=b.match(/Opera[\s\/]([^\s]*)/))&&m[1]){c.opera=d(m[1]);if(m=b.match(/Opera Mini[^;]*/))c.mobile=m[0]}else if((m=
b.match(/MSIE\s([^;]*)/))&&m[1])c.ie=d(m[1]);else if(m=b.match(/Gecko\/([^\s]*)/)){c.gecko=1;if((m=b.match(/rv:([^\s\)]*)/))&&m[1])c.gecko=d(m[1])}return c}();(function(){var a=["ua-"+nova.ua.os,"ua-jsenable"];if(nova.ua.ie!==0)a.push("ua-ie"+nova.ua.ie);else if(nova.ua.webkit!==0)a.push("ua-webkit"+nova.ua.webkit);else if(nova.ua.gecko!==0)a.push("ua-gecko"+nova.ua.gecko,"ua-fx");else nova.ua.opera!==0&&a.push("ua-opera"+nova.ua.opera);nova.dom.addClass(nova.dom.selector("html")[0],a.join(" "))})();
nova.Event={};nova.Event.add=function(a,b,d){if(a.addEventListener){a.addEventListener(b,d,false);return true}else if(a.attachEvent){a["e"+b+d]=d;a[b+d]=function(){a["e"+b+d](window.event)};a.attachEvent("on"+b,a[b+d]);return true}return false};nova.Event.remove=function(){return nova.WIN.removeEventListener?function(a,b,d,c){a.removeEventListener(b,d,!!c)}:nova.WIN.detachEvent?function(a,b,d){a.detachEvent("on"+b,d)}:function(){}};nova.ui={};
nova.ui.tab=function(a){a=a||".nova-tab";var b=nova.dom.selector(a+">.hd>li"),d=nova.dom.selector(a+">.bd>li"),c,e,f;c=function(){e=0;for(f=d.length;e<f;e++){nova.dom.removeClass(b[e],"selected");nova.dom.addClass(d[e],"hidden")}};a=function(g){g=g||window.event;g=g.target||g.srcElement;if(nova.dom.hasClass(g,"anchor"))g=g.parentNode;c();nova.dom.addClass(g,"selected");nova.dom.removeClass(d[g.index],"hidden")};e=0;for(f=b.length;e<f;e++){b[e].index=e;nova.Event.add(b[e],"mouseover",a)}c();nova.dom.addClass(b[0],
"selected");nova.dom.removeClass(d[0],"hidden")};nova.ui.slide=function(){};nova.ui.nav=function(){var a=nova.dom.selector(".nova-nav .item"),b,d;b=0;for(d=a.length;b<d;b++){nova.Event.add(a[b],"mouseover",function(){nova.dom.addClass(this,"selected")});nova.Event.add(a[b],"mouseout",function(){nova.dom.removeClass(this,"selected")})}};
nova.ui.flow=function(a){var b=document,d=b.documentElement,c=b.body,e=300,f=200,g=0,h=0,i=0,k=0,l=0,n=true,o,j=b.createElement("div");nova.dom.addClass(j,"nova-ui-flow");j.innerHTML='<a href="'+a.href+'"><img src="'+a.src+'" width="'+a.width+'" height="'+a.height+'"></a>';nova.dom.setCSS([j],{position:"absolute",zIndex:"100",top:f+"px",left:"2px",width:a.width+"px",height:a.height+"px",visibility:"visible"});c.appendChild(j);var p=function(){width=c.clientWidth;g=d.clientHeight;h=j.offsetHeight;
i=j.offsetWidth;nova.dom.setCSS([j],{left:e+b.body.scrollLeft+"px",top:f+b.body.scrollTop+"px"});if(k)f+=1;else f-=1;if(f<0){k=1;f=0}if(f>=g-h){k=0;f=g-h}if(l)e+=1;else e-=1;if(e<0){l=1;e=0}if(e>=width-i){l=0;e=width-i}};a=function(){if(n){clearInterval(o);n=false}else{o=setInterval(p,30);n=true}};nova.Event.add(j,"mouseover",a);nova.Event.add(j,"mouseout",a);o=setInterval(p,30)};
nova.ui.flowBox=function(a){var b=window,d=document,c=function(h){var i,k=h.offsetTop;b.onscroll=function(){i=d.documentElement.scrollTop||d.body.scrollTop;nova.dom.setCSS([h],{top:i+k+"px"})}},e=d.createElement("div"),f=d.createElement("div"),g=d.createElement("div");e.className="nova-flow-box";f.className="nfb-first";g.className="nfb-second";f.innerHTML='<a href="'+a.href[0]+'"><img src="'+a.src[0]+'"></a>';g.innerHTML='<a href="'+a.href[1]+'"><img src="'+a.src[1]+'"></a>';nova.dom.setCSS([e,g],
{position:"absolute",top:0});nova.dom.setCSS([e],{top:a.top+"px"});e.appendChild(f);e.appendChild(g);d.body.appendChild(e);nova.Event.add(b,"load",function(){nova.dom.setCSS([g],{left:d.body.clientWidth-g.clientWidth+"px"});c(e)})};
