/*
 FrostNova Javascript Library v0.5.5
 http://qslee.com/

 Copyright 2011, Qiu-Shi Lee
 Code licensed under the MIT License:
 https://github.com/qiushilee/frostnova/blob/master/LICENSE.txt
*/
var nova=function(){return nova.init.apply(nova,arguments)};nova.init=function(){return new nova.domChain.init(selector)};nova.WIN=window;nova.version="0.5.5";nova.bind=function(a,b){var c=Array.prototype.slice,f=c.apply(arguments,[2]);return function(){return a.apply(b||{},f.concat(c.apply(arguments)))}};nova.isArray=function(){};nova.isString=function(){};nova.isNubmer=function(){};nova.load={};
nova.load=function(a,b){var c=document.createElement("script");c.src=a;c.onloadDone=false;c.onload=function(){c.onloadDone=true;b()};c.onreadystatechange=function(){if(c.readyState==="loaded"||c.readyState==="complete"&&!c.onloadDone){c.onloadDone=true;b()}};document.body.appendChild(c)};nova.ajax={};nova.ajax.XMLHttpFactories=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];
nova.ajax.createXMLHTTPObject=function(){for(var a=false,b=0;b<nova.ajax.XMLHttpFactories.length;b++){try{a=nova.ajax.XMLHttpFactories[b]()}catch(c){continue}break}return a};
nova.ajax.sendRequest=function(a,b,c){var f=nova.ajax.createXMLHTTPObject();if(f){f.open(c?"POST":"GET",a,true);f.setRequestHeader("User-Agent","XMLHTTP/1.0");c&&f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.onreadystatechange=function(){if(f.readyState==4)f.status!=200&&f.status!=304||b(f)};f.readyState!=4&&f.send(c)}};nova.ajax.get=function(a,b){return nova.ajax.sendRequest(a,b,"GET")};nova.ajax.post=function(a,b){return nova.ajax.sendRequest(a,b,"POST")};nova.dom={};
nova.dom.hasClass=function(a,b){var c=a.className.split(" "),f,g;f=0;for(g=c.length;f<g;f++)if(c[f]===b)return true};nova.dom.addClass=function(a,b){if(!nova.dom.hasClass(a,b))a.className===""?a.className=b:a.className+=" "+b};nova.dom.removeClass=function(a,b){a.className=a.className.replace(b,"")};nova.dom.getStyle=function(a,b,c){if(a.currentStyle)return a.currentStyle[c];else if(nova.WIN.getComputedStyle)return document.defaultView.getComputedStyle(a,null).getPropertyValue(b)};
nova.dom.getWidth=function(a){var b,c;b=parseInt(nova.dom.getStyle(a,"margin-left","marginLeft"),10);c=parseInt(nova.dom.getStyle(a,"margin-right","marginRight"),10);return a.offsetWidth+b+c};nova.dom.setCSS=function(a,b){var c=function(g,d){for(var e=0,h=a.length;e<h;e++)a[e].style[g]=d},f;for(f in b)b.hasOwnProperty(f)&&c(f,b[f])};
(function(){var a,b,c,f,g;a={id:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,"class":/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,tag:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,">":/(?:(>))+/};b={byID:function(d,e){if(d===null)return[];return[d.getElementById(e)]},byNodeName:function(d,e){if(d===null)return[];var h,i,j=[],k=d.getElementsByTagName(e);h=0;for(i=k.length;h<i;h++)j.push(k[h]);return j},byClassName:function(d,e){if(d===null)return[];var h,i,j=[],k=d.getElementsByTagName("*");h=0;for(i=k.length;h<i;h++){var l=k[h];
l.className.match("\\b"+e+"\\b")&&j.push(l)}return j},">":function(d,e){if(d===null)return[];for(var h=[],i=e.split(">"),j=g(i[0],d)[0],k=1,l=i.length;k<l;k++)if(a.id.test(h[k]))h=c.id(j,i[k]);else if(a["class"].test(i[k]))h=c["class"](j,i[k]);else if(a.tag.test(i[k]))h=c.tag(j,i[k]);return h}};c={id:function(d,e){e=e.split("#")[1];return b.byID(d,e)},tag:function(d,e){return b.byNodeName(d,e)},"class":function(d,e){e=e.split(".")[1];return b.byClassName(d,e)},">":function(d,e){return b[">"](d,e)}};
f=function(d){this.selector=d;this.tokens=[];this.tokenize()};f.prototype.tokenize=function(){var d;if(a[">"].test(this.selector))d=">";else if(a.id.test(this.selector))d="id";else if(a["class"].test(this.selector))d="class";else if(a.tag.test(this.selector))d="tag";this.tokens.push(d);return this.tokens};g=function(d,e){var h=(new f(d)).tokens;return c[h](e,d)};nova.dom.selector=function(d,e){var h;h=e===undefined?document:e;return h.querySelectorAll?h.querySelectorAll(d):g(d,h)};nova.domChain={find:function(d){this.selector=
d}}})();nova.ua={};
nova.ua=function(){var a,b=nova.WIN.navigator.userAgent,c,f;c=function(g){a=0;return parseFloat(g.replace(/\./g,function(){return a++==1?"":"."}))};f={ie:0,webkit:0,gecko:0,opera:0,mobile:null,os:null};if(/windows|win32/i.test(b))f.os="win";else if(/macintosh/i.test(b))f.os="mac";else if(/rhino/i.test(b))f.os="rhino";if(/KHTML/.test(b))f.webkit=1;m=b.match(/AppleWebKit\/([^\s]*)/);if(!f.webkit)if((m=b.match(/Opera[\s\/]([^\s]*)/))&&m[1]){f.opera=c(m[1]);if(m=b.match(/Opera Mini[^;]*/))f.mobile=m[0]}else if((m=
b.match(/MSIE\s([^;]*)/))&&m[1])f.ie=c(m[1]);else if(m=b.match(/Gecko\/([^\s]*)/)){f.gecko=1;if((m=b.match(/rv:([^\s\)]*)/))&&m[1])f.gecko=c(m[1])}return f}();(function(){var a=["ua-"+nova.ua.os,"ua-jsenable"];if(nova.ua.ie!==0)a.push("ua-ie"+nova.ua.ie);else if(nova.ua.webkit!==0)a.push("ua-webkit"+nova.ua.webkit);else if(nova.ua.gecko!==0)a.push("ua-gecko"+nova.ua.gecko,"ua-fx");else nova.ua.opera!==0&&a.push("ua-opera"+nova.ua.opera);nova.dom.addClass(nova.dom.selector("html")[0],a.join(" "))})();
nova.Event={};nova.Event.add=function(a,b,c){if(a.addEventListener){a.addEventListener(b,c,false);return true}else if(a.attachEvent){a["e"+b+c]=c;a[b+c]=function(){a["e"+b+c](window.event)};a.attachEvent("on"+b,a[b+c]);return true}return false};nova.Event.remove=function(){return nova.WIN.removeEventListener?function(a,b,c,f){a.removeEventListener(b,c,!!f)}:nova.WIN.detachEvent?function(a,b,c){a.detachEvent("on"+b,c)}:function(){}};nova.ui={};
nova.ui.tab=function(a){a=a||".nova-tab";var b=nova.dom.selector(".item",nova.dom.selector(a+">.hd")[0]),c=nova.dom.selector(".item",nova.dom.selector(a+">.bd")[0]),f,g,d;f=function(){g=0;for(d=c.length;g<d;g++){nova.dom.removeClass(b[g],"selected");nova.dom.addClass(c[g],"hidden")}};a=function(e){e=e||window.event;e=e.target||e.srcElement;if(e.nodeName==="A")e=e.parentNode;f();nova.dom.addClass(e,"selected");nova.dom.removeClass(c[e.index],"hidden")};g=0;for(d=b.length;g<d;g++){b[g].index=g;nova.Event.add(b[g],
"mouseover",a)}f();nova.dom.addClass(b[0],"selected");nova.dom.removeClass(c[0],"hidden")};nova.ui.slide=function(){};nova.ui.nav=function(){var a=nova.dom.selector(".nova-nav .item"),b,c;b=0;for(c=a.length;b<c;b++){nova.Event.add(a[b],"mouseover",function(){nova.dom.addClass(this,"selected")});nova.Event.add(a[b],"mouseout",function(){nova.dom.removeClass(this,"selected")})}};
nova.ui.flow=function(a){var b=document,c=b.documentElement,f=b.body,g=300,d=200,e=0,h=0,i=0,j=0,k=0,l=true,o,n=b.createElement("div");nova.dom.addClass(n,"nova-ui-flow");n.innerHTML='<a href="'+a.href+'"><img src="'+a.src+'" width="'+a.width+'" height="'+a.height+'"></a>';nova.dom.setCSS([n],{position:"absolute",zIndex:"100",top:d+"px",left:"2px",width:a.width+"px",height:a.height+"px",visibility:"visible"});f.appendChild(n);var p=function(){width=f.clientWidth;e=c.clientHeight;h=n.offsetHeight;
i=n.offsetWidth;nova.dom.setCSS([n],{left:g+b.body.scrollLeft+"px",top:d+b.body.scrollTop+"px"});if(j)d+=1;else d-=1;if(d<0){j=1;d=0}if(d>=e-h){j=0;d=e-h}if(k)g+=1;else g-=1;if(g<0){k=1;g=0}if(g>=width-i){k=0;g=width-i}};a=function(){if(l){clearInterval(o);l=false}else{o=setInterval(p,30);l=true}};nova.Event.add(n,"mouseover",a);nova.Event.add(n,"mouseout",a);o=setInterval(p,30)};
nova.ui.flowBox=function(a){var b=window,c=document,f=function(j){var k,l=j.offsetTop;b.onscroll=function(){k=c.documentElement.scrollTop||c.body.scrollTop;nova.dom.setCSS([j],{top:k+l+"px"})}},g=c.createElement("div"),d=c.createElement("div"),e=c.createElement("div"),h="",i="";if(a.close){h=c.createElement("span");i=c.createElement("span");nova.dom.setCSS([h,i],{display:"inline-block",width:"32px",cursor:"pointer"});h.innerHTML="\u5173\u95ed";i.innerHTML="\u5173\u95ed"}g.className="nova-flow-box";
d.className="nfb-first";e.className="nfb-second";d.innerHTML='<a href="'+a.href[0]+'" style="display:block;"><img src="'+a.src[0]+'"></a>';e.innerHTML='<a href="'+a.href[1]+'" style="display:block;"><img src="'+a.src[1]+'"></a>';nova.dom.setCSS([d,e],{textAlign:"center"});d.appendChild(h);e.appendChild(i);nova.dom.setCSS([g,e],{position:"absolute",top:0});nova.dom.setCSS([g],{top:a.top+"px"});g.appendChild(d);g.appendChild(e);c.body.appendChild(g);a=function(j){j=j||b.event;(j.target||j.srcElement).parentNode.innerHTML=
""};nova.Event.add(h,"click",a);nova.Event.add(i,"click",a);nova.Event.add(b,"load",function(){nova.dom.setCSS([e],{left:c.body.clientWidth-e.clientWidth+"px"});f(g)})};
